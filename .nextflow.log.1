Feb-09 10:04:21.872 [main] DEBUG nextflow.cli.Launcher - $> nextflow run main.nf -profile gemini --outputFolder /scratch/vpagano/happy-test/output/
Feb-09 10:04:21.957 [main] INFO  nextflow.cli.CmdRun - N E X T F L O W  ~  version 22.10.3
Feb-09 10:04:21.974 [main] DEBUG nextflow.plugin.PluginsFacade - Setting up plugin manager > mode=prod; embedded=false; plugins-dir=/home/vpagano/.nextflow/plugins; core-plugins: nf-amazon@1.11.1,nf-azure@0.14.2,nf-codecommit@0.1.2,nf-console@1.0.4,nf-ga4gh@1.0.4,nf-google@1.4.5,nf-tower@1.5.6,nf-wave@0.5.2
Feb-09 10:04:21.985 [main] INFO  org.pf4j.DefaultPluginStatusProvider - Enabled plugins: []
Feb-09 10:04:21.986 [main] INFO  org.pf4j.DefaultPluginStatusProvider - Disabled plugins: []
Feb-09 10:04:21.989 [main] INFO  org.pf4j.DefaultPluginManager - PF4J version 3.4.1 in 'deployment' mode
Feb-09 10:04:22.001 [main] INFO  org.pf4j.AbstractPluginManager - No plugins
Feb-09 10:04:22.014 [main] DEBUG nextflow.config.ConfigBuilder - Found config local: /home/vpagano/happy-compare/nextflow.config
Feb-09 10:04:22.014 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /home/vpagano/happy-compare/nextflow.config
Feb-09 10:04:22.034 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `gemini`
Feb-09 10:04:22.622 [main] DEBUG nextflow.config.ConfigBuilder - Available config profiles: [gemini, reports, noTower, dback]
Feb-09 10:04:22.648 [main] DEBUG nextflow.cli.CmdRun - Applied DSL=2 from script declararion
Feb-09 10:04:22.663 [main] INFO  nextflow.cli.CmdRun - Launching `main.nf` [peaceful_picasso] DSL2 - revision: 92219414b4
Feb-09 10:04:22.664 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins default=[]
Feb-09 10:04:22.664 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins resolved requirement=[nf-tower@1.5.6]
Feb-09 10:04:22.665 [main] DEBUG nextflow.plugin.PluginUpdater - Installing plugin nf-tower version: 1.5.6
Feb-09 10:04:22.681 [main] INFO  org.pf4j.AbstractPluginManager - Plugin 'nf-tower@1.5.6' resolved
Feb-09 10:04:22.681 [main] INFO  org.pf4j.AbstractPluginManager - Start plugin 'nf-tower@1.5.6'
Feb-09 10:04:22.694 [main] DEBUG nextflow.plugin.BasePlugin - Plugin started nf-tower@1.5.6
Feb-09 10:04:22.704 [main] DEBUG nextflow.secret.LocalSecretsProvider - Secrets store: /home/vpagano/.nextflow/secrets/store.json
Feb-09 10:04:22.707 [main] DEBUG nextflow.secret.SecretsLoader - Discovered secrets providers: [nextflow.secret.LocalSecretsProvider@5edacf20] - activable => nextflow.secret.LocalSecretsProvider@5edacf20
Feb-09 10:04:22.760 [main] DEBUG nextflow.Session - Session UUID: a7b6f93f-a924-4931-b2f8-f6c7c545a5f6
Feb-09 10:04:22.760 [main] DEBUG nextflow.Session - Run name: peaceful_picasso
Feb-09 10:04:22.760 [main] DEBUG nextflow.Session - Executor pool size: 36
Feb-09 10:04:22.770 [main] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'FileTransfer' minSize=10; maxSize=108; workQueue=LinkedBlockingQueue[10000]; allowCoreThreadTimeout=false
Feb-09 10:04:22.774 [main] DEBUG nextflow.config.ConfigBuilder - Found config local: /home/vpagano/happy-compare/nextflow.config
Feb-09 10:04:22.774 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /home/vpagano/happy-compare/nextflow.config
Feb-09 10:04:22.775 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `gemini`
Feb-09 10:04:22.837 [main] DEBUG nextflow.config.ConfigBuilder - Available config profiles: [gemini, reports, noTower, dback]
Feb-09 10:04:22.860 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 22.10.3 build 5834
  Created: 21-11-2022 21:37 UTC (14:37 MDT)
  System: Linux 4.18.0-305.3.1.el8_4.x86_64
  Runtime: Groovy 3.0.13 on OpenJDK 64-Bit Server VM 11.0.2+9
  Encoding: UTF-8 (UTF-8)
  Process: 2573924@gemini-login1 [192.168.31.41]
  CPUs: 36 - Mem: 187.4 GB (14.5 GB) - Swap: 12 GB (9.9 GB)
Feb-09 10:04:22.885 [main] DEBUG nextflow.Session - Work-dir: /scratch/vpagano/tmp [nfs]
Feb-09 10:04:22.885 [main] DEBUG nextflow.Session - Script base path does not exist or is not a directory: /home/vpagano/happy-compare/bin
Feb-09 10:04:22.894 [main] DEBUG nextflow.executor.ExecutorFactory - Extension executors providers=[]
Feb-09 10:04:22.905 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
Feb-09 10:04:22.907 [main] DEBUG nextflow.Session - Observer factory: TowerFactory
Feb-09 10:04:23.071 [main] DEBUG nextflow.cache.CacheFactory - Using Nextflow cache factory: nextflow.cache.DefaultCacheFactory
Feb-09 10:04:23.090 [main] DEBUG nextflow.util.CustomThreadPool - Creating default thread pool > poolSize: 37; maxThreads: 1000
Feb-09 10:04:23.187 [main] DEBUG nextflow.Session - Session start
Feb-09 10:04:23.197 [main] DEBUG io.seqera.tower.plugin.TowerClient - Creating Tower observer -- endpoint=http://pnap-tower.tgen.org:8000/api; requestInterval=1s; aliveInterval=1m; maxRetries=5; backOffBase=3; backOffDelay=250
Feb-09 10:04:23.460 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Feb-09 10:04:23.947 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Feb-09 10:04:23.948 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Feb-09 10:04:23.959 [main] DEBUG nextflow.executor.Executor - [warm up] executor > slurm
Feb-09 10:04:23.963 [main] DEBUG n.processor.TaskPollingMonitor - Creating task monitor for executor 'slurm' > capacity: 100; pollInterval: 5s; dumpInterval: 5m 
Feb-09 10:04:23.967 [main] DEBUG n.executor.AbstractGridExecutor - Creating executor 'slurm' > queue-stat-interval: 1m
Feb-09 10:04:24.028 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Feb-09 10:04:24.028 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Feb-09 10:04:24.033 [main] DEBUG nextflow.Session - Workflow process names [dsl2]: tabix, publishResults, happy, gzip
Feb-09 10:04:24.071 [main] INFO  io.seqera.tower.plugin.TowerClient - Monitor the execution with Nextflow Tower using this URL: http://pnap-tower.tgen.org:8000/user/vpagano/watch/NH5aLaIFz097j
Feb-09 10:04:24.073 [main] DEBUG nextflow.Session - Igniting dataflow network (5)
Feb-09 10:04:24.074 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > happy
Feb-09 10:04:24.075 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > publishResults
Feb-09 10:04:24.076 [main] DEBUG nextflow.script.ScriptRunner - > Awaiting termination 
Feb-09 10:04:24.076 [main] DEBUG nextflow.Session - Session await
Feb-09 10:04:24.274 [Task submitter] ERROR nextflow.processor.TaskProcessor - Error executing process > 'happy (2)'

Caused by:
  File `/scratch/vpagano/happy-test/HG002_GRCh38_1_22_v4.2.1_benchmark_noinconsistent.bed*` is outside the scope of the process work directory: /scratch/vpagano/tmp/45/9b46a5ed183208a19702cef60d5c73

Source block:
  if (chr != '') {
          chromosome = '-l ' + chr
          chromosomeTag = '-' + chr
      } else {
          chromosomeTag = ''
      }
  """
          hap.py ${vcfTruth} ${vcfTest} -f ${bedFile} ${chromosome} --stratification ${stratFile} -r ${ref} -o ${tag}-ve${chromosomeTag} --engine=vcfeval --engine-vcfeval-template ${SDF} ${params.happyOptions} --verbose --logfile ${tag}-ve${chromosomeTag}.log --threads ${task.cpus}
      """

Work dir:
  /scratch/vpagano/tmp/45/9b46a5ed183208a19702cef60d5c73

Tip: you can replicate the issue by changing to the process work dir and entering the command `bash .command.run`
Feb-09 10:04:24.277 [Task submitter] DEBUG nextflow.Session - Session aborted -- Cause: Error submitting process 'happy (2)' for execution
Feb-09 10:04:24.286 [Task submitter] DEBUG nextflow.Session - The following nodes are still active:
[process] publishResults
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: f
  port 1: (cntrl) -     ; channel: $

Feb-09 10:04:24.289 [main] DEBUG nextflow.Session - Session await > all processes finished
Feb-09 10:04:24.290 [main] DEBUG nextflow.Session - Session await > all barriers passed
Feb-09 10:04:24.297 [main] DEBUG nextflow.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=0; failedCount=1; ignoredCount=0; cachedCount=0; pendingCount=6; submittedCount=0; runningCount=-1; retriesCount=0; abortedCount=0; succeedDuration=0ms; failedDuration=0ms; cachedDuration=0ms;loadCpus=-24; loadMemory=0; peakRunning=0; peakCpus=0; peakMemory=0; ]
Feb-09 10:04:24.560 [main] DEBUG nextflow.cache.CacheDB - Closing CacheDB done
Feb-09 10:04:24.560 [main] INFO  org.pf4j.AbstractPluginManager - Stop plugin 'nf-tower@1.5.6'
Feb-09 10:04:24.560 [main] DEBUG nextflow.plugin.BasePlugin - Plugin stopped nf-tower
Feb-09 10:04:24.578 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
